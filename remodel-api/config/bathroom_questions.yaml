# ============================================================================
# BATHROOM PLANNER - QUESTION TREE CONFIG
# ============================================================================
# This file defines the complete question flow for the bathroom wizard.
# To add/remove questions, edit this file - no code changes needed.
# ============================================================================

version: "1.0"
project_type: bathroom

# Steps in the wizard (order matters)
steps:
  # ==========================================================================
  # STEP 1: Space Overview
  # ==========================================================================
  - id: space_overview
    title: Tell us about your bathroom
    subtitle: Understanding the type helps us give you more accurate guidance
    questions:
      - key: bathroom_type
        type: single_select
        label: What type of bathroom is this?
        required: true
        options:
          - value: primary
            label: Primary / Owner's Bath
            description: The main bathroom with full amenities
          - value: kids
            label: Kids' Bathroom
            description: Shared bath for children
          - value: guest
            label: Guest Bathroom
            description: Full bath for visitors
          - value: powder
            label: Powder Room
            description: Half bath with just toilet and sink
          - value: other
            label: Other
            description: Another bathroom configuration

  # ==========================================================================
  # STEP 2: Look and Feel (Vision)
  # ==========================================================================
  - id: vision
    title: Define your vision
    subtitle: Help us understand your aesthetic preferences
    questions:
      - key: preferred_styles
        type: multi_select
        label: What styles appeal to you?
        description: Select all that resonate with your vision
        required: false
        options:
          - value: modern
            label: Modern
            description: Clean lines, minimal ornamentation
            image_url: /images/styles/modern.jpg
          - value: traditional
            label: Traditional
            description: Classic details, warm tones
            image_url: /images/styles/traditional.jpg
          - value: farmhouse
            label: Farmhouse
            description: Rustic charm, natural materials
            image_url: /images/styles/farmhouse.jpg
          - value: industrial
            label: Industrial
            description: Raw materials, exposed elements
            image_url: /images/styles/industrial.jpg
          - value: midcentury
            label: Mid-Century
            description: Retro aesthetics, organic shapes
            image_url: /images/styles/midcentury.jpg
          - value: contemporary
            label: Contemporary
            description: Current trends, mixed materials
            image_url: /images/styles/contemporary.jpg
          - value: other
            label: Other
            description: Something unique

      - key: ambience
        type: single_select
        label: How should the space feel?
        description: Choose the overall color and light mood
        required: false
        options:
          - value: light_bright
            label: Light & Bright
            description: White/light walls with bright accents
          - value: bright_neutral
            label: Bright with Neutral
            description: Colorful walls, neutral accents
          - value: neutral_neutral
            label: Neutral Throughout
            description: Balanced, calming tones
          - value: neutral_dark
            label: Neutral with Dark
            description: Neutral walls, dark accents
          - value: dark_bright
            label: Dark with Bright
            description: Dark walls, bright pops of color
          - value: dark_dark
            label: Bold & Moody
            description: Dark throughout, dramatic

  # ==========================================================================
  # STEP 3: Scope Goals
  # ==========================================================================
  - id: scope_goals
    title: What do you want to change?
    subtitle: Select all that apply - this drives your cost estimate
    questions:
      - key: goals
        type: multi_select
        label: Project goals
        required: true
        options:
          - value: convert_tub_to_shower
            label: Convert tub to shower
            description: Remove existing tub and install a shower
            education: |
              This involves demolition of the tub, building a new shower base (tile or prefab),
              installing wall tile or panels, and adding a shower door. It's one of the most
              common bathroom upgrades.

          - value: replace_tub_with_new_tub
            label: Replace tub with new tub
            description: Swap out the existing tub for a new one
            education: |
              Keeping a tub but upgrading it. May involve new tile surround or refinishing
              the tub area. Good for homes where a bath is needed (kids, resale).

          - value: replace_wall_tile
            label: Replace wall tile
            description: New tile on shower/tub walls
            education: |
              Wall tile is a major design statement and cost driver. Options range from
              basic ceramic to luxury stone. Tile labor is skilled work.

          - value: replace_flooring
            label: Replace flooring
            description: New floor tile, LVP, or other material
            education: |
              Bathroom floors must handle moisture. Tile is most common, but luxury vinyl
              plank (LVP) is a budget-friendly alternative.

          - value: update_fixtures
            label: Update fixtures
            description: New faucets, shower heads, lighting
            education: |
              Fixture updates can dramatically change the look without major construction.
              Budget for mid-range fixtures like Kohler, Delta, or Moen.

          - value: change_fixture_layout
            label: Change fixture layout
            description: Move toilet, sink, or shower location
            education: |
              Moving fixtures requires plumbing work and often permits. This is a major
              cost driver due to labor and materials.

          - value: add_storage
            label: Add storage
            description: New cabinets, shelving, or built-ins
            education: |
              Storage solutions range from stock vanities to custom cabinetry. Built-in
              niches and benches add cost but maximize space.

          - value: cosmetic_updates_only
            label: Cosmetic updates only
            description: Paint, hardware, accessories
            education: |
              Light refreshes without major construction. Good for rentals or when the
              layout and fixtures are solid.

          - value: something_else
            label: Something else
            description: Custom scope - describe below

  # ==========================================================================
  # STEP 4: Space & Layout Details
  # ==========================================================================
  - id: space_layout
    title: Space and layout details
    subtitle: These details significantly impact cost
    questions:
      - key: size_sqft_band
        type: single_select
        label: Approximate bathroom size
        required: true
        options:
          - value: "0_35"
            label: Small (under 35 sq ft)
            description: Typical powder room
          - value: "35_60"
            label: Medium (35-60 sq ft)
            description: Standard full bath
          - value: "60_90"
            label: Large (60-90 sq ft)
            description: Spacious primary bath
          - value: "90_plus"
            label: Very Large (90+ sq ft)
            description: Luxury or multi-area bathroom

      - key: layout_change_level
        type: single_select
        label: Are you changing the layout?
        required: true
        education: |
          Layout changes range from simple (keeping walls, moving fixtures slightly)
          to complex (removing walls, expanding the room). Structural work requires
          permits and engineering.
        options:
          - value: no_layout_change
            label: No layout change
            description: Keeping everything in the same place
          - value: non_structural_changes
            label: Minor layout changes
            description: Moving fixtures, no walls affected
          - value: structural_changes
            label: Major layout changes
            description: Moving or removing walls, expanding space

      - key: plumbing_changes
        type: single_select
        label: What plumbing work is needed?
        required: true
        education: |
          Plumbing is expensive. Moving a toilet is hardest (requires drain relocation).
          Showers and sinks are easier but still require skilled labor.
        options:
          - value: no_moves
            label: No plumbing moves
            description: All fixtures stay where they are
          - value: moving_shower_or_tub
            label: Moving shower or tub
            description: Relocating water supply lines
          - value: moving_toilet
            label: Moving toilet
            description: Requires drain line relocation (major work)
          - value: multiple_fixtures_moved
            label: Multiple fixtures moved
            description: Comprehensive replumb

      - key: ceiling_height_band
        type: single_select
        label: Ceiling height (optional)
        required: false
        description: Affects tile quantity for walls
        options:
          - value: standard
            label: Standard (8 ft)
          - value: taller
            label: Tall (9+ ft)

  # ==========================================================================
  # STEP 5: Systems & Upgrades
  # ==========================================================================
  - id: systems
    title: Systems and upgrades
    subtitle: Electrical, ventilation, and special features
    questions:
      - key: electrical_scope
        type: single_select
        label: Electrical work needed?
        required: true
        options:
          - value: fixtures_only
            label: Just replace fixtures
            description: Swap lights/outlets in same locations
          - value: add_lighting
            label: Add new lighting
            description: New circuits for vanity lights, recessed lights, etc.
          - value: add_heated_floor
            label: Add heated floor
            description: Electric radiant heat system
          - value: add_circuits
            label: Add electrical circuits
            description: New dedicated circuits to panel

      - key: ventilation_scope
        type: single_select
        label: Ventilation changes?
        required: true
        options:
          - value: no_change
            label: No change
            description: Existing fan is adequate
          - value: upgrade_fan
            label: Upgrade exhaust fan
            description: Replace with quieter, more powerful fan
          - value: add_new_fan
            label: Install new fan
            description: Add fan with ductwork to exterior

      - key: extras
        type: multi_select
        label: Additional features?
        description: Select all desired upgrades
        required: false
        options:
          - value: shower_niche
            label: Shower niche
            description: Built-in tiled shelf for shampoo/soap
            education: Adds $300-600 for materials and tile labor

          - value: shower_bench
            label: Shower bench
            description: Built-in tiled seat in shower
            education: Adds $600-1200 for framing, tile, and labor

          - value: frameless_glass
            label: Frameless glass shower door
            description: Custom glass enclosure (no frame)
            education: Adds $1500-3000 vs. standard framed door

          - value: heated_floor
            label: Heated floor
            description: Electric radiant heat mat under tile
            education: Adds $15-25/sqft for mat + installation

          - value: custom_vanity
            label: Custom vanity
            description: Built-to-spec cabinetry
            education: Significantly more expensive than stock/semi-custom

          - value: custom_storage_cabinetry
            label: Custom storage
            description: Built-in cabinets, linen closets, etc.
            education: Adds $1200-3000 depending on scope

  # ==========================================================================
  # STEP 6: Finishes Overview
  # ==========================================================================
  - id: finishes
    title: Finishes and materials
    subtitle: Choose your material quality levels
    questions:
      - key: shower_type
        type: single_select
        label: Shower configuration
        required: true
        condition:
          any:
            - goals_contains: convert_tub_to_shower
            - goals_contains: replace_wall_tile
        options:
          - value: prefab_shower_kit
            label: Prefab shower kit
            description: One-piece acrylic or fiberglass unit
            education: Budget-friendly, fast install, limited design options
            image_url: /images/finishes/prefab_shower.jpg

          - value: custom_tiled_shower
            label: Custom tiled shower
            description: Tile pan and walls, standard glass door
            education: Mid-range cost, full design control, durable
            image_url: /images/finishes/tiled_shower.jpg

          - value: tub_shower_combo
            label: Tub/shower combo
            description: Keeping or adding a tub with shower
            education: Good for families, requires more space
            image_url: /images/finishes/tub_combo.jpg

      - key: tile_level
        type: single_select
        label: Tile quality level
        required: true
        condition:
          any:
            - goals_contains: replace_wall_tile
            - goals_contains: replace_flooring
            - goals_contains: convert_tub_to_shower
        education: |
          Tile is a major design and cost driver. Ceramic is budget-friendly but less durable.
          Porcelain is mid-range and very durable. Natural stone is high-end but requires sealing.
        options:
          - value: basic_ceramic
            label: Basic Ceramic
            description: Budget-friendly, standard durability
            price_indicator: "$"
            image_url: /images/tile/ceramic.jpg

          - value: porcelain
            label: Porcelain
            description: Durable, water-resistant, wide range of styles
            price_indicator: "$$"
            image_url: /images/tile/porcelain.jpg

          - value: natural_stone
            label: Natural Stone
            description: Marble, travertine, slate - luxury materials
            price_indicator: "$$$"
            image_url: /images/tile/stone.jpg

      - key: flooring_type
        type: single_select
        label: Flooring material
        required: true
        condition:
          goals_contains: replace_flooring
        options:
          - value: tile
            label: Tile
            description: Ceramic, porcelain, or stone (see tile level above)
          - value: lvp
            label: Luxury Vinyl Plank (LVP)
            description: Budget-friendly, waterproof, easy install
          - value: other
            label: Other
            description: Wood, concrete, specialty material

      - key: vanity_type
        type: single_select
        label: Vanity style
        required: true
        options:
          - value: stock
            label: Stock vanity
            description: Big-box store, standard sizes
            price_indicator: "$"

          - value: semi_custom
            label: Semi-custom
            description: Some size/finish customization
            price_indicator: "$$"

          - value: custom
            label: Custom vanity
            description: Built to your exact specs
            price_indicator: "$$$"

      - key: countertop_type
        type: single_select
        label: Countertop material
        required: true
        options:
          - value: laminate
            label: Laminate
            description: Budget option
            price_indicator: "$"

          - value: prefab_quartz
            label: Prefab Quartz
            description: Pre-cut quartz slab
            price_indicator: "$$"

          - value: custom_quartz
            label: Custom Quartz
            description: Cut to fit your vanity
            price_indicator: "$$$"

          - value: stone_other
            label: Natural Stone
            description: Granite, marble, etc.
            price_indicator: "$$$"

  # ==========================================================================
  # STEP 7: Budget & Timing
  # ==========================================================================
  - id: budget_timing
    title: Budget and timeline
    subtitle: Help us understand your expectations
    questions:
      - key: budget_band
        type: single_select
        label: What's your target budget?
        required: true
        description: We'll show you how your choices align with typical costs
        options:
          - value: under_15k
            label: Under $15,000
          - value: 15_to_30k
            label: "$15,000 - $30,000"
          - value: 30_to_50k
            label: "$30,000 - $50,000"
          - value: 50k_plus
            label: Over $50,000
          - value: not_sure
            label: Not sure yet

      - key: timeline_readiness
        type: single_select
        label: When do you want to start?
        required: true
        options:
          - value: just_exploring
            label: Just exploring
            description: Gathering information, no timeline yet
          - value: 3_to_6_months
            label: 3-6 months
            description: Planning phase, researching contractors
          - value: 6_to_12_months
            label: 6-12 months
            description: Longer planning horizon
          - value: ready_asap
            label: Ready ASAP
            description: Want to start within 2-3 months

  # ==========================================================================
  # STEP 8: Optional Details
  # ==========================================================================
  - id: optional_details
    title: Additional details (optional)
    subtitle: Any other information that would help?
    questions:
      - key: free_text_notes
        type: textarea
        label: Project notes
        required: false
        description: |
          Describe any special considerations, constraints, or goals we should know about.
          This helps contractors understand your unique situation.
        placeholder: "Example: The bathroom shares a wall with the bedroom, so sound insulation is important..."

      - key: photos
        type: file_upload
        label: Photos of current space
        required: false
        description: Upload photos to help visualize the existing conditions
        accept: "image/*"
        multiple: true
        max_files: 10

# ============================================================================
# Educational Content (Reusable Snippets)
# ============================================================================
education:
  cost_drivers:
    - title: Layout Changes
      content: Moving walls or expanding the space requires permits, engineering, and skilled framing labor.

    - title: Plumbing Moves
      content: Relocating fixtures (especially toilets) is expensive due to drain line work and the need for licensed plumbers.

    - title: Tile Material
      content: Tile ranges from $3/sqft (basic ceramic) to $20+/sqft (natural stone), not including labor.

    - title: Custom vs Stock
      content: Custom cabinetry, tile work, and glass costs 2-3x more than stock or prefab alternatives.

    - title: Labor Rates
      content: Skilled trades (tile setters, plumbers, electricians) typically charge $50-100/hr in most markets.

  questions_for_contractors:
    - Are you licensed and insured?
    - Can you provide references from similar bathroom projects?
    - What's your timeline for a project of this scope?
    - How do you handle change orders and unexpected issues?
    - What warranties do you offer on labor and materials?
    - Do you pull permits, or do I need to handle that?
    - What's your payment schedule?

  common_pitfalls:
    - title: Underestimating demolition
      content: Demo often reveals hidden issues (water damage, old plumbing) that add cost.

    - title: Skipping permits
      content: Unpermitted work can cause problems when selling and may not be insured.

    - title: Choosing tile without seeing samples
      content: Tile looks very different in person vs. online. Always request physical samples.

    - title: Not planning for storage
      content: Bathrooms need accessible storage. Plan for medicine cabinets, linen closets, or niches.

    - title: Ignoring ventilation
      content: Proper ventilation prevents mold and moisture damage. Don't skip the fan upgrade.

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bathroom Remodel Plan - {{ client_name }}</title>
    <style>
        @page {
            size: Letter;
            margin: 0.75in;
            @bottom-right {
                content: "Page " counter(page) " of " counter(pages);
                font-size: 9pt;
                color: #666;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 11pt;
            line-height: 1.6;
            color: #333;
        }

        .header {
            border-bottom: 3px solid #0284c7;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        .logo-section {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .logo h1 {
            font-size: 24pt;
            color: #0369a1;
            font-weight: 700;
        }

        .logo p {
            color: #666;
            font-size: 10pt;
            margin-top: 5px;
        }

        .contact-info {
            text-align: right;
            font-size: 10pt;
            color: #666;
        }

        .contact-info p {
            margin: 3px 0;
        }

        .report-title {
            background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%);
            color: white;
            padding: 20px;
            margin: 20px -20px;
            text-align: center;
        }

        .report-title h2 {
            font-size: 20pt;
            margin-bottom: 5px;
        }

        .report-title p {
            font-size: 11pt;
            opacity: 0.9;
        }

        .section {
            margin-bottom: 30px;
            page-break-inside: avoid;
        }

        .section-header {
            background-color: #f0f9ff;
            border-left: 4px solid #0284c7;
            padding: 12px 15px;
            margin-bottom: 15px;
        }

        .section-header h3 {
            font-size: 14pt;
            color: #0369a1;
        }

        .cost-summary {
            background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%);
            color: white;
            padding: 25px;
            border-radius: 8px;
            text-align: center;
            margin: 20px 0;
        }

        .cost-summary .amount {
            font-size: 32pt;
            font-weight: 700;
            margin: 15px 0;
        }

        .cost-summary .label {
            font-size: 12pt;
            opacity: 0.9;
        }

        .cost-breakdown {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.3);
        }

        .cost-breakdown .item {
            text-align: center;
        }

        .cost-breakdown .item-label {
            font-size: 10pt;
            opacity: 0.9;
        }

        .cost-breakdown .item-value {
            font-size: 16pt;
            font-weight: 600;
            margin-top: 5px;
        }

        .complexity-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 10pt;
            font-weight: 600;
            margin-top: 10px;
        }

        .complexity-low {
            background-color: #d1fae5;
            color: #065f46;
        }

        .complexity-medium {
            background-color: #fef3c7;
            color: #92400e;
        }

        .complexity-high {
            background-color: #fee2e2;
            color: #991b1b;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .info-card {
            background-color: #f9fafb;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #e5e7eb;
        }

        .info-card .label {
            font-size: 9pt;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }

        .info-card .value {
            font-size: 12pt;
            color: #111827;
            font-weight: 600;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        table th {
            background-color: #f3f4f6;
            padding: 12px;
            text-align: left;
            font-size: 10pt;
            color: #374151;
            border-bottom: 2px solid #d1d5db;
        }

        table td {
            padding: 12px;
            border-bottom: 1px solid #e5e7eb;
            font-size: 10pt;
        }

        table tr:last-child td {
            border-bottom: none;
        }

        .module-name {
            font-weight: 600;
            color: #111827;
        }

        .module-cost {
            text-align: right;
            color: #0369a1;
            font-weight: 600;
        }

        ul {
            margin-left: 20px;
            margin-top: 10px;
        }

        li {
            margin-bottom: 8px;
            line-height: 1.5;
        }

        .highlight-box {
            background-color: #dbeafe;
            border-left: 4px solid #0284c7;
            padding: 15px;
            margin: 15px 0;
        }

        .highlight-box p {
            margin: 5px 0;
        }

        .icon {
            display: inline-block;
            width: 18px;
            text-align: center;
            margin-right: 5px;
        }

        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #e5e7eb;
            text-align: center;
            font-size: 9pt;
            color: #6b7280;
        }

        .footer p {
            margin: 5px 0;
        }

        .disclaimer {
            background-color: #fef3c7;
            border: 1px solid #fbbf24;
            padding: 15px;
            margin-top: 20px;
            font-size: 9pt;
            color: #78350f;
        }

        /* Print optimization */
        @media print {
            .section {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo-section">
            <div class="logo">
                <h1>Heartwood Craft</h1>
                <p>Quality Craftsmanship, Timeless Design</p>
            </div>
            <div class="contact-info">
                <p><strong>Email:</strong> contact@heartwoodcraft.com</p>
                <p><strong>Phone:</strong> (406) 555-1234</p>
                <p><strong>Web:</strong> heartwoodcraft.com</p>
            </div>
        </div>
    </div>

    <!-- Report Title -->
    <div class="report-title">
        <h2>Bathroom Remodel Planning Guide</h2>
        <p>Prepared for {{ client_name }}</p>
        <p style="font-size: 9pt; margin-top: 10px;">{{ generated_date }}</p>
    </div>

    <!-- Client Info -->
    <div class="section">
        <div class="section-header">
            <h3>Project Information</h3>
        </div>
        <div class="info-grid">
            <div class="info-card">
                <div class="label">Client Name</div>
                <div class="value">{{ client_name }}</div>
            </div>
            <div class="info-card">
                <div class="label">Bathroom Type</div>
                <div class="value">{{ bathroom_type|title }}</div>
            </div>
            <div class="info-card">
                <div class="label">Project Complexity</div>
                <div class="value">
                    <span class="complexity-badge complexity-{{ complexity_band }}">
                        {{ complexity_band|upper }} Complexity
                    </span>
                </div>
            </div>
            <div class="info-card">
                <div class="label">Timeline</div>
                <div class="value">{{ timeline_readiness|replace('_', ' ')|title }}</div>
            </div>
        </div>
    </div>

    <!-- Project Scope -->
    <div class="section">
        <div class="section-header">
            <h3>Project Scope</h3>
        </div>
        <p>{{ scope_text }}</p>

        {% if goals %}
        <div style="margin-top: 15px;">
            <strong>Your Goals:</strong>
            <ul>
            {% for goal in goals %}
                <li>{{ goal|replace('_', ' ')|title }}</li>
            {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>

    <!-- Cost Summary -->
    <div class="section">
        <div class="section-header">
            <h3>Investment Summary</h3>
        </div>

        <div class="cost-summary">
            <div class="label">Estimated Total Investment</div>
            <div class="amount">${{ '{:,.0f}'.format(cost_total_min) }} â€“ ${{ '{:,.0f}'.format(cost_total_max) }}</div>

            <div class="cost-breakdown">
                <div class="item">
                    <div class="item-label">Labor</div>
                    <div class="item-value">${{ '{:,.0f}'.format(cost_labor_min) }} â€“ ${{ '{:,.0f}'.format(cost_labor_max) }}</div>
                </div>
                <div class="item">
                    <div class="item-label">Materials</div>
                    <div class="item-value">${{ '{:,.0f}'.format(cost_materials_min) }} â€“ ${{ '{:,.0f}'.format(cost_materials_max) }}</div>
                </div>
            </div>
        </div>

        <div class="highlight-box">
            <p><strong><span class="icon">ðŸ’¡</span> Understanding the Range:</strong></p>
            <p>This estimate provides a realistic range based on your selections and typical market conditions.
            The actual cost will depend on final material choices, site conditions, and any unexpected discoveries during construction.</p>
        </div>
    </div>

    <!-- Cost Breakdown by Module -->
    {% if modules %}
    <div class="section">
        <div class="section-header">
            <h3>Detailed Cost Breakdown</h3>
        </div>

        <table>
            <thead>
                <tr>
                    <th>Work Category</th>
                    <th style="text-align: right;">Estimated Range</th>
                </tr>
            </thead>
            <tbody>
            {% for module in modules %}
                <tr>
                    <td class="module-name">{{ module.label }}</td>
                    <td class="module-cost">${{ '{:,.0f}'.format(module.total_min) }} â€“ ${{ '{:,.0f}'.format(module.total_max) }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    {% endif %}

    <!-- Cost Drivers -->
    {% if cost_drivers %}
    <div class="section">
        <div class="section-header">
            <h3>What's Driving Your Cost</h3>
        </div>
        <ul>
        {% for driver in cost_drivers %}
            <li>{{ driver }}</li>
        {% endfor %}
        </ul>
    </div>
    {% endif %}

    <!-- Page Break -->
    <div style="page-break-before: always;"></div>

    <!-- Questions for Contractors -->
    <div class="section">
        <div class="section-header">
            <h3>Questions to Ask Your Contractor</h3>
        </div>
        <p style="margin-bottom: 15px;">Use these questions when interviewing contractors to ensure you're working with qualified professionals:</p>
        <ol>
        {% for question in contractor_questions %}
            <li>{{ question }}</li>
        {% endfor %}
        </ol>
    </div>

    <!-- Additional Considerations -->
    <div class="section">
        <div class="section-header">
            <h3>Planning Your Project</h3>
        </div>

        <div style="margin-bottom: 20px;">
            <h4 style="color: #0369a1; margin-bottom: 10px;">Timeline Expectations</h4>
            <p>A bathroom remodel of this scope typically takes:</p>
            <ul>
                <li><strong>Planning & Design:</strong> 2-4 weeks</li>
                <li><strong>Permits & Approvals:</strong> 1-3 weeks (if required)</li>
                <li><strong>Construction:</strong> 3-6 weeks</li>
                <li><strong>Total Project Duration:</strong> 6-13 weeks from start to finish</li>
            </ul>
        </div>

        <div style="margin-bottom: 20px;">
            <h4 style="color: #0369a1; margin-bottom: 10px;">Next Steps</h4>
            <ol>
                <li>Review this estimate and discuss with family/stakeholders</li>
                <li>Refine your material selections and priorities</li>
                <li>Interview 2-3 qualified contractors</li>
                <li>Request detailed bids based on your specific selections</li>
                <li>Schedule a pre-construction meeting to review the plan</li>
            </ol>
        </div>

        <div>
            <h4 style="color: #0369a1; margin-bottom: 10px;">Common Pitfalls to Avoid</h4>
            <ul>
                <li><strong>Underestimating demolition:</strong> Hidden issues (water damage, outdated plumbing) often emerge</li>
                <li><strong>Skipping permits:</strong> Unpermitted work can cause problems at resale and may void insurance</li>
                <li><strong>Not planning for storage:</strong> Ensure adequate storage solutions are included in the design</li>
                <li><strong>Choosing materials online only:</strong> Always see physical samples before final selection</li>
                <li><strong>Inadequate ventilation:</strong> Proper ventilation prevents mold and moisture damage</li>
            </ul>
        </div>
    </div>

    <!-- Disclaimer -->
    <div class="disclaimer">
        <p><strong>Important Disclaimer:</strong></p>
        <p>This is a ballpark estimate based on the information provided and typical market conditions.
        Actual costs may vary based on specific site conditions, material availability, final design decisions,
        and contractor pricing. This estimate is not a bid or quote. For accurate pricing, please request
        detailed bids from licensed contractors after finalizing your design selections.</p>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p><strong>Heartwood Craft</strong></p>
        <p>Email: contact@heartwoodcraft.com | Phone: (406) 555-1234</p>
        <p>This report was generated using our Bathroom Remodel Planning Tool</p>
        <p style="margin-top: 10px;">Â© {{ current_year }} Heartwood Craft. All rights reserved.</p>
    </div>
</body>
</html>
